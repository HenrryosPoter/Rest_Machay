<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<!--

http://www.templatemo.com/tm-507-victory
-->
        <title>Machay -  Pagina de contactos </title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/fontAwesome.css">
        <link rel="stylesheet" href="css/hero-slider.css">
        <link rel="stylesheet" href="css/owl-carousel.css">
        <link rel="stylesheet" href="css/templatemo-style.css">

        <link href="https://fonts.googleapis.com/css?family=Spectral:200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">

        <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    </head>

<body>
    <div class="header">
        <div class="container">
            <a href="#" class="navbar-brand scroll-top">Machay</a>
            <nav class="navbar navbar-inverse" role="navigation">
                <div class="navbar-header">
                    <button type="button" id="nav-toggle" class="navbar-toggle" data-toggle="collapse" data-target="#main-nav">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <!--/.navbar-header-->
                <div id="main-nav" class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="menu.html">Menus</a></li>
                        <li><a href="blog.html">Sobre Nosotros</a></li>
                        <li><a href="contact.html">Cont√°ctos</a></li>
                    </ul>
                </div>
                <!--/.navbar-collapse-->
            </nav>
            <!--/.navbar-->
        </div>
        <!--/.container-->
    </div>
    <!--/.header-->


    <section class="page-heading">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1>Cont√°ctanos</h1>
                    <p>Estamos aqu√≠ para hacer de tu experiencia en Machay algo inolvidable. Cont√°ctanos para reservas, eventos especiales o cualquier consulta.</p>
                </div>
            </div>
        </div>
    </section>



    <section class="contact-us">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="section-heading">
                        <h2>Mensaje</h2>
                    </div>
                    <form id="contact" onsubmit="submitForm(event)">
                        <div class="row">
                            <div class="col-md-6">
                                <fieldset>
                                    <input name="name" type="text" class="form-control" id="name" placeholder="Tu nombre..." required>
                                </fieldset>
                                <fieldset>
                                    <input name="email" type="email" class="form-control" id="email" placeholder="Tu email..." required>
                                </fieldset>
                                <fieldset>
                                    <input name="phone" type="tel" class="form-control" id="phone" placeholder="Tu tel√©fono..." required>
                                </fieldset>
                            </div>
                            <div class="col-md-6">
                                <fieldset>
                                    <textarea name="message" rows="6" class="form-control" id="message" placeholder="Tu mensaje..." required></textarea>
                                </fieldset>
                                
                                <!-- Indicador de carga -->
                                <div id="loading" style="display: none; text-align: center; margin: 10px 0;">
                                    <i class="fa fa-spinner fa-spin"></i> Enviando mensaje...
                                </div>
                                
                                <fieldset>
                                    <button type="submit" id="form-submit" class="btn">Enviar Mensaje</button>
                                </fieldset>
                                
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-md-6">
                    <div class="section-heading contact-info">
                        <h2>Informaci√≥n de Contacto</h2>
                        <p>En Machay Rooftop, cada detalle cuenta para crear experiencias memorables. Nuestro equipo est√° disponible para atender tus consultas, reservas especiales y eventos privados. Te esperamos en nuestro exclusivo rooftop con las mejores vistas de Cuenca.<br><br><em>Direcci√≥n: Av. Solano 1-38 y Av. 12 de Abril, <br>Cuenca - Ecuador</em><br><br><strong>Tel√©fono:</strong> +593 7 XXX-XXXX<br><strong>Email:</strong> info@machayrooftop.com<br><strong>Horarios:</strong> Martes a Domingo 18:00 - 02:00</p>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <section class="map">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div id="map">
        <!-- C√≥mo cambiar tu punto en el mapa
            1. Ve a Google Maps
            2. Haz clic en tu punto de ubicaci√≥n
            3. Haz clic en "Compartir" y elige la pesta√±a "Insertar mapa"
            4. Copia solo la URL y p√©gala en el campo src="" de abajo
        -->
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3984.582862089125!2d-79.03509668927188!3d-2.935525939640875!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x91cd23ab6afd0fe3%3A0x41a24cc55c967c2f!2sExperiencia%20Machay%20Rooftop!5e0!3m2!1ses!2sec!4v1749097459939!5m2!1ses!2sec" width="100%" height="500" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <p>Copyright &copy; 2025 MACHAY</p>
                </div>
                <div class="col-md-4">
                    <ul class="social-icons">
                        <li><a rel="nofollow" href="https://www.facebook.com/ExperienciaMachay/photos?locale=es_LA" target="_parent"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="https://www.instagram.com/experienciamachay/?hl=es"><i class="fa fa-instagram"></i></a></li>
                      <!--  <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fa fa-rss"></i></a></li>
                        <li><a href="#"><i class="fa fa-dribbble"></i></a></li>
                    --></ul>
                </div>
                <div class="col-md-4">
                    <p>Dise√±ado por <em>Hentry</em></p>
                </div>
            </div>
        </div>
    </footer>


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <script src="js/vendor/bootstrap.min.js"></script>

    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        // navigation click actions 
        $('.scroll-link').on('click', function(event){
            event.preventDefault();
            var sectionID = $(this).attr("data-id");
            scrollToID('#' + sectionID, 750);
        });
        // scroll to top action
        $('.scroll-top').on('click', function(event) {
            event.preventDefault();
            $('html, body').animate({scrollTop:0}, 'slow');         
        });
        // mobile nav toggle
        $('#nav-toggle').on('click', function (event) {
            event.preventDefault();
            $('#main-nav').toggleClass("open");
        });
    });
    // scroll function
    function scrollToID(id, speed){
        var offSet = 0;
        var targetOffset = $(id).offset().top - offSet;
        var mainNav = $('#main-nav');
        $('html,body').animate({scrollTop:targetOffset}, speed);
        if (mainNav.hasClass("open")) {
            mainNav.css("height", "1px").removeClass("in").addClass("collapse");
            mainNav.removeClass("open");
        }
    }
    if (typeof console === "undefined") {
        console = {
            log: function() { }
        };
    }
    </script>

    <!-- üöÄ SISTEMA DE FORMULARIO CON GOOGLE SHEETS + APPS SCRIPT -->
    <script>
    // üî• CONFIGURACI√ìN PRINCIPAL
    // ‚ö†Ô∏è PASO CR√çTICO: Reemplaza esta URL con la de tu Google Apps Script
    // üö® INSTRUCCIONES PARA OBTENER TU URL:
    // 1. Ve a script.google.com
    // 2. Abre tu proyecto "Formulario Machay"
    // 3. Clic en "Implementar" > "Nueva implementaci√≥n"
    // 4. Tipo: "Aplicaci√≥n web"
    // 5. Ejecutar como: "Yo"
    // 6. Acceso: "Cualquier persona"
    // 7. Copia la URL que te da y p√©gala aqu√≠ abajo:
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzvJgK5BEAs-naoec9mOi6228eAoNufhsa1ALUXFf37seBVbMsrqEaSUvg6xaumTz-m/exec';
    
    // üìß Configuraci√≥n del sistema
    const CONFIG = {
        emailNotificacion: '',
        nombreRestaurante: 'Machay Rooftop',
        mostrarLogs: true, // Cambiar a false en producci√≥n
        tiempoEspera: 10000 // 10 segundos m√°ximo de espera
    };
    
    // üéØ FUNCI√ìN PRINCIPAL DE ENV√çO
    async function submitForm(event) {
        event.preventDefault();
        
        // Validar configuraci√≥n
        if (GOOGLE_SCRIPT_URL.includes('https://script.google.com/macros/s/AKfycbzvJgK5BEAs-naoec9mOi6228eAoNufhsa1ALUXFf37seBVbMsrqEaSUvg6xaumTz-m/exec')) {
        }
        
        // Obtener elementos del DOM
        const form = document.getElementById('contact');
        const submitBtn = document.getElementById('form-submit');
        const loading = document.getElementById('loading');
        
        // Validar y obtener datos del formulario
        const datosFormulario = obtenerDatosFormulario();
        if (!datosFormulario) return;
        
        // Preparar datos para env√≠o
        const formData = new FormData();
        formData.append('name', datosFormulario.name);
        formData.append('email', datosFormulario.email);
        formData.append('phone', datosFormulario.phone);
        formData.append('message', datosFormulario.message);
        formData.append('userIP', 'Formulario Web');
        formData.append('timestamp', new Date().toISOString());
        
        // Mostrar estado de carga
        mostrarCargando(submitBtn, loading, true);
        
        try {
            log('üì§ Enviando datos a Google Sheets...');
            log('üìä Datos:', datosFormulario);
            
            // Enviar con timeout
            const response = await Promise.race([
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', // Importante para Google Apps Script
                    body: formData
                }),
                new Promise((_, reject) => 
                    setTimeout(() => reject(new Error('Timeout')), CONFIG.tiempoEspera)
                )
            ]);
            
            log('‚úÖ Datos enviados exitosamente');
            
            // Mostrar mensaje de √©xito
            mostrarExito();
            
            // Limpiar formulario
            form.reset();
            
            // Enviar evento de seguimiento (opcional)
            enviarEventoSeguimiento('formulario_enviado', datosFormulario);
            
        } catch (error) {
            log('‚ùå Error al enviar:', error);
            
            if (error.message === 'Timeout') {
                mostrarError('‚è±Ô∏è Tiempo de espera agotado', 
                    'El env√≠o est√° tomando m√°s tiempo del esperado.\n' +
                    'Es posible que tu mensaje se haya enviado correctamente.\n\n' +
                    'Si no recibes confirmaci√≥n, cont√°ctanos directamente.');
            } else {
                mostrarError('‚ùå Error de conexi√≥n', 
                    'No se pudo enviar tu mensaje en este momento.\n\n' +
                    'üìû Cont√°ctanos directamente:\n' +
                    '‚Ä¢ Tel√©fono: +593 7 XXX-XXXX\n' +
                    '‚Ä¢ Email: info@machayrooftop.com');
            }
        } finally {
            // Restaurar estado del bot√≥n
            mostrarCargando(submitBtn, loading, false);
        }
    }
    
    // üìù FUNCI√ìN PARA OBTENER Y VALIDAR DATOS
    function obtenerDatosFormulario() {
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const message = document.getElementById('message').value.trim();
        
        // Validaciones
        if (!name || name.length < 2) {
            mostrarError('‚ùå Nombre requerido', 'Por favor, ingresa tu nombre completo (m√≠nimo 2 caracteres).');
            document.getElementById('name').focus();
            return null;
        }
        
        if (!email || !validarEmail(email)) {
            mostrarError('‚ùå Email inv√°lido', 'Por favor, ingresa un email v√°lido.');
            document.getElementById('email').focus();
            return null;
        }
        
        if (!phone || phone.length < 7) {
            mostrarError('‚ùå Tel√©fono requerido', 'Por favor, ingresa un n√∫mero de tel√©fono v√°lido.');
            document.getElementById('phone').focus();
            return null;
        }
        
        if (!message || message.length < 5) {
            mostrarError('‚ùå Mensaje muy corto', 'Por favor, escribe un mensaje m√°s detallado (m√≠nimo 5 caracteres).');
            document.getElementById('message').focus();
            return null;
        }
        
        return { name, email, phone, message };
    }
    
    // ‚úâÔ∏è VALIDADOR DE EMAIL
    function validarEmail(email) {
        const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return regex.test(email);
    }
    
    // üîÑ FUNCI√ìN PARA MOSTRAR/OCULTAR CARGA
    function mostrarCargando(submitBtn, loading, mostrar) {
        if (mostrar) {
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin"></i> Enviando...';
            loading.style.display = 'block';
        } else {
            submitBtn.disabled = false;
            submitBtn.innerHTML = 'Enviar Mensaje';
            loading.style.display = 'none';
        }
    }
    
    // üéâ MENSAJE DE √âXITO PERSONALIZADO
    function mostrarExito() {
        const modal = document.createElement('div');
        modal.innerHTML = `
            <div style="
                position: fixed; 
                top: 0; left: 0; 
                width: 100%; height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                font-family: 'Roboto', sans-serif;
            ">
                <div style="
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 40px;
                    border-radius: 20px;
                    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                    text-align: center;
                    max-width: 500px;
                    margin: 20px;
                    animation: slideIn 0.3s ease-out;
                ">
                    <div style="font-size: 60px; margin-bottom: 20px;">üéâ</div>
                    <h2 style="margin: 0 0 15px 0; color: white; font-size: 28px;">¬°Mensaje Enviado!</h2>
                    <p style="margin: 0 0 20px 0; opacity: 0.9; font-size: 16px; line-height: 1.5;">
                        Gracias por contactarnos. Hemos recibido tu mensaje y te responderemos pronto para hacer de tu experiencia en <strong>${CONFIG.nombreRestaurante}</strong> algo inolvidable.
                    </p>
                    <div style="margin: 20px 0; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px;">
                        <p style="margin: 0; font-size: 14px; opacity: 0.8;">
                            üìß Tambi√©n recibir√°s una confirmaci√≥n en tu email<br>
                            ‚è±Ô∏è Tiempo de respuesta: 24-48 horas
                        </p>
                    </div>
                    <button onclick="this.closest('[style*=position]').remove()" style="
                        background: rgba(255,255,255,0.2);
                        border: 2px solid rgba(255,255,255,0.3);
                        color: white;
                        padding: 12px 30px;
                        border-radius: 25px;
                        cursor: pointer;
                        font-size: 16px;
                        font-weight: 500;
                        transition: all 0.3s ease;
                    " onmouseover="this.style.background='rgba(255,255,255,0.3)'" 
                       onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                        Perfecto, gracias
                    </button>
                </div>
            </div>
            <style>
                @keyframes slideIn {
                    from { transform: translateY(-50px); opacity: 0; }
                    to { transform: translateY(0); opacity: 1; }
                }
            </style>
        `;
        
        document.body.appendChild(modal);
        
        // Auto-cerrar despu√©s de 10 segundos
        setTimeout(() => {
            if (modal.parentNode) {
                modal.remove();
            }
        }, 10000);
    }
    
    // ‚ùå FUNCI√ìN PARA MOSTRAR ERRORES
    function mostrarError(titulo, mensaje) {
        alert(`${titulo}\n\n${mensaje}`);
    }
    
    // üìä FUNCI√ìN DE SEGUIMIENTO (OPCIONAL)
    function enviarEventoSeguimiento(evento, datos) {
        try {
            // Aqu√≠ puedes integrar Google Analytics, Facebook Pixel, etc.
            log(`üìà Evento: ${evento}`, datos);
        } catch (error) {
            log('Error en seguimiento:', error);
        }
    }
    
    // üîç FUNCI√ìN DE LOGGING
    function log(mensaje, datos = null) {
        if (CONFIG.mostrarLogs) {
            console.log(`[Machay Contact] ${mensaje}`, datos || '');
        }
    }
    
    // üß™ FUNCI√ìN DE PRUEBA AVANZADA
   // function testGoogleSheets() {
   //     log('üß™ Iniciando prueba del sistema...');
   //     
   //     if (GOOGLE_SCRIPT_URL.includes('https://script.google.com/macros/s/AKfycbzvJgK5BEAs-naoec9mOi6228eAoNufhsa1ALUXFf37seBVbMsrqEaSUvg6xaumTz-m/exec')) {
   //         log('‚ùå URL no configurada');
   //         alert('‚ö†Ô∏è Configura primero la URL de Google Apps Script');
   //         return;
   //     }
        
        // Llenar formulario con datos de prueba
    //    document.getElementById('name').value = 'Prueba Sistema';
   //     document.getElementById('email').value = 'test@machayrooftop.com';
   //     document.getElementById('phone').value = '0999999999';
   //     document.getElementById('message').value = 'Este es un mensaje de prueba del sistema de contacto de Machay Rooftop. Si recibes este mensaje, el sistema est√° funcionando correctamente.';
        
   //     log('‚úÖ Formulario llenado con datos de prueba');
   //     alert('üìù Formulario llenado con datos de prueba.\n\nHaz clic en "Enviar Mensaje" para probar la conexi√≥n con Google Sheets.');
    //} 
    
    // üîÑ FUNCI√ìN DE REINICIO
    function resetearFormulario() {
        document.getElementById('contact').reset();
        log('üîÑ Formulario reiniciado');
    }
    
    // üì± DETECTAR DISPOSITIVO M√ìVIL
    function esMobile() {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
    
    // üöÄ INICIALIZACI√ìN
    document.addEventListener('DOMContentLoaded', function() {
        log('üöÄ Sistema de contacto Machay inicializado');
        log('üì± Dispositivo m√≥vil:', esMobile());
        log('üîó URL configurada:', GOOGLE_SCRIPT_URL.includes('TU_SCRIPT_ID_AQUI') ? 'NO' : 'S√ç');
        
        // Agregar eventos adicionales si es necesario
        const form = document.getElementById('contact');
        if (form) {
            form.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && e.ctrlKey) {
                    submitForm(e);
                }
            });
        }
    });
    
    // üéØ FUNCIONES DISPONIBLES EN CONSOLA PARA DESARROLLO:
    // testGoogleSheets() - Llenar formulario con datos de prueba
    // resetearFormulario() - Limpiar formulario
    // CONFIG.mostrarLogs = false - Desactivar logs
    </script>
</body>
</html>